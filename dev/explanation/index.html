<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How it works · AggregateBy.jl</title><meta name="title" content="How it works · AggregateBy.jl"/><meta property="og:title" content="How it works · AggregateBy.jl"/><meta property="twitter:title" content="How it works · AggregateBy.jl"/><meta name="description" content="Documentation for AggregateBy.jl."/><meta property="og:description" content="Documentation for AggregateBy.jl."/><meta property="twitter:description" content="Documentation for AggregateBy.jl."/><meta property="og:url" content="https://timholy.github.io/AggregateBy.jl/explanation/"/><meta property="twitter:url" content="https://timholy.github.io/AggregateBy.jl/explanation/"/><link rel="canonical" href="https://timholy.github.io/AggregateBy.jl/explanation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AggregateBy.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>How it works</a><ul class="internal"><li><a class="tocitem" href="#Examples-and-their-explanation"><span>Examples and their explanation</span></a></li></ul></li><li><a class="tocitem" href="../advanced/">Internals</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>How it works</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How it works</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/timholy/AggregateBy.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/timholy/AggregateBy.jl/blob/main/docs/src/explanation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-it-works"><a class="docs-heading-anchor" href="#How-it-works">How it works</a><a id="How-it-works-1"></a><a class="docs-heading-anchor-permalink" href="#How-it-works" title="Permalink"></a></h1><p>An object <code>item</code> is aggregated using key <code>f(item)</code>, i.e. if <code>operation</code> is some aggregation operation, then</p><pre><code class="language-julia hljs">julia&gt; operation(By(f), itr)    # itr is an iterable container</code></pre><p>performs aggregations of the form <code>operation(dict[f(x)], x)</code>. Let&#39;s see a few more examples, this time explaining how they work.</p><h2 id="Examples-and-their-explanation"><a class="docs-heading-anchor" href="#Examples-and-their-explanation">Examples and their explanation</a><a id="Examples-and-their-explanation-1"></a><a class="docs-heading-anchor-permalink" href="#Examples-and-their-explanation" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs">julia&gt; count(By(), &quot;Hello&quot;)
Dict{Char, Int64} with 4 entries:
  &#39;H&#39; =&gt; 1
  &#39;l&#39; =&gt; 2
  &#39;e&#39; =&gt; 1
  &#39;o&#39; =&gt; 1</code></pre><p>Here, the aggregation operation is <code>count</code>, and the <code>f</code> in <code>By(f)</code> is the default value <code>identity</code> (<code>identity(x) = x</code>). Consequently, each character got aggregated (by counting) into a container indexed by the character itself. Counting aggregates <code>x</code> as <code>dict[f(x)] + 1</code>, i.e., the <code>operation</code> is <code>+(&lt;dict-entry&gt;, 1)</code>.</p><p>To sum a list by some property of its items:</p><pre><code class="language-julia-repl hljs">julia&gt; sum(By(isodd), 1:11)
Dict{Bool, Int64} with 2 entries:
  0 =&gt; 30
  1 =&gt; 36</code></pre><p>Note that 30 is the sum of all even numbers in the range, and 36 is the sum of all odd numbers in the range. This example illustrates an important point: <code>f</code> is applied to each item to generate the <em>key</em>, but aggregation uses the raw item. In code, <code>sum</code> aggregates <code>dict[f(x)] + x</code>, whereas <code>count</code> aggregates <code>dict[f(x)] + 1</code>.</p><p>A third supported aggregation is <code>push!</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; push!(By(isodd), 1:11)
Dict{Bool, Vector{Int64}} with 2 entries:
  0 =&gt; [2, 4, 6, 8, 10]
  1 =&gt; [1, 3, 5, 7, 9, 11]</code></pre><p>In other words, this aggregates via <code>push!(dict[f(x)], x)</code>: <code>dict[f(x)]</code> returns the aggregated-list for key <code>f(x)</code>, and then <code>x</code> is <code>push!</code>ed onto the list.</p><p>If desired, you can control the key- and value-type of the returned <code>Dict</code> with <code>By{K,V}(f)</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../advanced/">Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 15 January 2024 20:35">Monday 15 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
